<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UpDown Runtime: Kickstart tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">UpDown Runtime
   </div>
   <div id="projectbrief">This is the runtime system for the updown recode engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md___users_josemonsalvediaz__documents__project38_llvm_updown_tutorials__oct21_22__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Kickstart tutorial </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >The purpose of this document is to summarize the hello world tutorial to be presented in the first quick off meeting of the UpDown Runtime Emulator. This tutorial will likely be out of date in the future, so be warned that this may be outdated if you read it beyond October 21st 2022. The content of this document is as follows:</p>
<ol type="1">
<li>Building the runtime in standalone mode</li>
<li>Small terminology reminder</li>
<li>Creating a hello world program</li>
</ol>
<h1><a class="anchor" id="autotoc_md15"></a>
Building the runtime system in standalone mode</h1>
<p >In the long term, the purpose of this runtime system is to be part of the backend of more interesting ideas to be explored with the help of compilers. However, for now it is possible to build the runtime in stand alone mode, generating both a static and dynamic versions of these libraries.</p>
<p >The runtime has two parts. A <code>runtime</code> that is meant to be used with a simulator or the real hardware (e.g. pointers are accessed directly), and a <code>simruntime</code> that creates a wrapper around a python emulator, and which should be API compatible with the <code>runtime</code>. Furthermore, this repository hosts a set of microbenchmarks, and some experimental elements to be used with compilers in the future.</p>
<p >In order to build the runtime in stand alone we will use cmake. We will use two locations: <code>UPDOWN_SOURCE_CODE</code> and <code>UPDOWN_INSTALL_DIR</code>. Change these accordingly. Let's begin by creating the work environment.</p>
<div class="fragment"><div class="line"># Create a work folder. Set env variables</div>
<div class="line">mkdir updown_tutorial</div>
<div class="line">cd updown_tutorial</div>
<div class="line">git clone git@bitbucket.org:achien7242/llvm.git</div>
<div class="line">mkdir build</div>
<div class="line">mkdir install</div>
<div class="line">mkdir exercises</div>
<div class="line">export UPDOWN_SOURCE_CODE=`pwd`/llvm/updown</div>
<div class="line">export UPDOWN_INSTALL_DIR=`pwd`/install</div>
</div><!-- fragment --><p >Now let's begin the compilation. This assumes you're in the updown_tutorial folder, as described above</p>
<div class="fragment"><div class="line"># Let&#39;s build things</div>
<div class="line">cd build</div>
<div class="line">cmake $UPDOWN_SOURCE_CODE -DUPDOWNRT_ENABLE_TESTS=ON -DUPDOWNRT_ENABLE_UBENCH=ON -DUPDOWN_ENABLE_DEBUG=ON -DCMAKE_INSTALL_PREFIX=$UPDOWN_INSTALL_DIR</div>
<div class="line">make -j</div>
<div class="line">make install</div>
</div><!-- fragment --><p >In this step we are using the following flags:</p>
<ul>
<li><b>UPDOWNRT_ENABLE_TESTS=ON</b> - This enables compilation of the different runtime tests (e.g. chech <em>simupdown/tests</em> folder). These are good resources for examples on how to use the runtime API, but also it help us see if there are any mistakes.</li>
<li><b>UPDOWNRT_ENABLE_UBENCH=ON</b> - This enables compilation of the different microbenchmarks (e.g. chech <em>ubenchmarks</em> folder). These were created to stress the runtime. While in the emulator mode they do not really faithfully measure performance (i.e. functional simulator), these are useful for verifying behavior and learning.</li>
<li><b>UPDOWN_ENABLE_DEBUG=ON</b> - This enables debug messages in the runtime. When running programs, you will see a lot of lines that read <code>[UPDOWN_INFO: file.cpp:line_number]</code>. Some messages are information, others are errors or warnings. These are useful to understand the interaction with the system. For long runs, you should build the runtime without debug mode.</li>
<li><b>UPDOWN_INSTALL_DIR=...</b> - This flag is necessary to be able to create a distributable runtime library.</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
Notes</h2>
<p >At the moment of writing this tutorial, the tests do not properly verify results, so these are verified by eyeballing the output. This is to be solved in the future.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Small terminology reminder</h1>
<p >This is just a quick remider of the updown terminology.</p>
<h2><a class="anchor" id="autotoc_md18"></a>
UpDowns, lanes and threads</h2>
<p >The updown hardware is divided into UpDown units that contain multiple Lanes (e.g. 64 lanes). See the following picture for a representation of the updown lane.</p>
<p ><img src="img/UpDownLane.png" alt="UpDown lanes" class="inline"/></p>
<p >Each lane has an operand queue and an event queue. In order to send an updown event we need to set both separately. In the API runtime, we will see that the <code><a class="el" href="class_up_down_1_1operands__t.html" title="Class that holds information about the operands.">UpDown::operands_t</a></code> class is used for creating the operands, and the <code><a class="el" href="class_up_down_1_1event__t.html" title="Contains information of an event in the UpDown.">UpDown::event_t</a></code> is used to create an event. This event receives the <code>operands_t</code> as part of the arguments.</p>
<p >Each updown lane can have multiple activations. Currently, we refer to these activations as threads (See register contexts in the figure above). These "threads" execute concurrently, and they are switched upon execution of a <code>yield</code> or <code>yield_terminate</code> operation by another thread, and the arrival of a new event that "wakes up" a thread.</p>
<p >Each updown has access to some scratchpad memory.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
UpDown memory address space</h2>
<p >From the perspective of the top it is possible to access the updown scratchpad and control signals. Each updown has a set of memory regions that is parametrized according to some values.</p>
<p >The following figure represents the address space for the scratchpad memory, as seen from the top, considering multiple updowns.</p>
<p ><img src="img/ScratchpadMemoryAddresses.png" alt="UpDown Scratchpad memory" class="inline"/></p>
<p >The following figure represents the address space for the control signals for the different updowns, as seen from the top.</p>
<p ><img src="img/ControlSignalsAddresses.png" alt="UpDown Control signals" class="inline"/></p>
<p >It is important to understand these signals:</p>
<ul>
<li><b>Queues</b> These represent the location of the operand and event queues. It is used by the send event to submit a new event and its operands to the queue</li>
<li><b>Start exec</b> This signal is necessary because as of right now, the top does not perform an atomic operation to add events and operands. Therefore, it needs to signal the lane that a new event is ready for consumption. This may change in the future, but it is the mechanism we currently have in place</li>
<li><b>Locks</b> Since these operations are not atomic, in order to guarantee atomic access from other events (i.e. that operands and events that are related to each other are inserted in the right order), this signal is needed to lock the queues. This will be set and unset by the send event mechanism</li>
</ul>
<h2><a class="anchor" id="autotoc_md20"></a>
Notes</h2>
<p >At the moment of writing this tutorial, the updown runtime is not thread safe. Avoid calling updown runtime methods from multiple top threads, or use required critical regions.</p>
<h1><a class="anchor" id="autotoc_md21"></a>
Creating a hello world program</h1>
<p >Now let's create our first hello world program. this program will receive a number in an event operand, and it will send that number back with its value incremented by 1.</p>
<p >The Top code will look like this:</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;simupdown.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  <span class="comment">// Default configurations runtime</span></div>
<div class="line">  <a class="code hl_class" href="class_up_down_1_1_sim_u_d_runtime__t.html">UpDown::SimUDRuntime_t</a> *test_rt = <span class="keyword">new</span> <a class="code hl_class" href="class_up_down_1_1_sim_u_d_runtime__t.html">UpDown::SimUDRuntime_t</a>(<span class="stringliteral">&quot;addOneEFA&quot;</span>, <span class="stringliteral">&quot;AddOne&quot;</span>, <span class="stringliteral">&quot;./&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  printf(<span class="stringliteral">&quot;=== Base Addresses ===\n&quot;</span>);</div>
<div class="line">  test_rt-&gt;<a class="code hl_function" href="class_up_down_1_1_u_d_runtime__t.html#a206a9273dbdc8141741e7cd6b065a1fd">dumpBaseAddrs</a>();</div>
<div class="line">  printf(<span class="stringliteral">&quot;\n=== Machine Config ===\n&quot;</span>);</div>
<div class="line">  test_rt-&gt;<a class="code hl_function" href="class_up_down_1_1_u_d_runtime__t.html#a79ecb1814ceba28e24c404af732e073c">dumpMachineConfig</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Help operands</span></div>
<div class="line">  UpDown::word_t ops_data[] = {99};</div>
<div class="line">  <a class="code hl_class" href="class_up_down_1_1operands__t.html">UpDown::operands_t</a> ops(1, ops_data);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Events with operands</span></div>
<div class="line">  <a class="code hl_class" href="class_up_down_1_1event__t.html">UpDown::event_t</a> evnt_ops(0 <span class="comment">/*Event Label*/</span>,</div>
<div class="line">                           0 <span class="comment">/*UD ID*/</span>,</div>
<div class="line">                           0 <span class="comment">/*Lane ID*/</span>,</div>
<div class="line">                           UpDown::ANY_THREAD <span class="comment">/*Thread ID*/</span>,</div>
<div class="line">                           &amp;ops <span class="comment">/*Operands*/</span>);</div>
<div class="line"> </div>
<div class="line">  test_rt-&gt;<a class="code hl_function" href="class_up_down_1_1_sim_u_d_runtime__t.html#af3aead899ca394be4048678a1769da4d">send_event</a>(evnt_ops);</div>
<div class="line">  test_rt-&gt;<a class="code hl_function" href="class_up_down_1_1_sim_u_d_runtime__t.html#a4d07ad90b3cd6de2522c7e37ecdaf133">start_exec</a>(0,0);</div>
<div class="line"> </div>
<div class="line">  test_rt-&gt;<a class="code hl_function" href="class_up_down_1_1_sim_u_d_runtime__t.html#a32ebe16466d123ae02b3f0a56f159e1d">test_wait_addr</a>(0,0,0,100);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_up_down_1_1_sim_u_d_runtime__t_html"><div class="ttname"><a href="class_up_down_1_1_sim_u_d_runtime__t.html">UpDown::SimUDRuntime_t</a></div><div class="ttdoc">Wrapper class that allows simulation of runtime calls.</div><div class="ttdef"><b>Definition:</b> simupdown.h:81</div></div>
<div class="ttc" id="aclass_up_down_1_1_sim_u_d_runtime__t_html_a32ebe16466d123ae02b3f0a56f159e1d"><div class="ttname"><a href="class_up_down_1_1_sim_u_d_runtime__t.html#a32ebe16466d123ae02b3f0a56f159e1d">UpDown::SimUDRuntime_t::test_wait_addr</a></div><div class="ttdeci">void test_wait_addr(uint8_t ud_id, uint8_t lane_num, uint32_t offset, word_t expected=1)</div><div class="ttdoc">Wrapper function for test_wait_addr.</div><div class="ttdef"><b>Definition:</b> simupdown.cpp:310</div></div>
<div class="ttc" id="aclass_up_down_1_1_sim_u_d_runtime__t_html_a4d07ad90b3cd6de2522c7e37ecdaf133"><div class="ttname"><a href="class_up_down_1_1_sim_u_d_runtime__t.html#a4d07ad90b3cd6de2522c7e37ecdaf133">UpDown::SimUDRuntime_t::start_exec</a></div><div class="ttdeci">void start_exec(uint8_t ud_id, uint8_t lane_num)</div><div class="ttdoc">Wrapper function for start_exec.</div><div class="ttdef"><b>Definition:</b> simupdown.cpp:91</div></div>
<div class="ttc" id="aclass_up_down_1_1_sim_u_d_runtime__t_html_af3aead899ca394be4048678a1769da4d"><div class="ttname"><a href="class_up_down_1_1_sim_u_d_runtime__t.html#af3aead899ca394be4048678a1769da4d">UpDown::SimUDRuntime_t::send_event</a></div><div class="ttdeci">void send_event(event_t ev)</div><div class="ttdoc">Wrapper function for send_event.</div><div class="ttdef"><b>Definition:</b> simupdown.cpp:78</div></div>
<div class="ttc" id="aclass_up_down_1_1_u_d_runtime__t_html_a206a9273dbdc8141741e7cd6b065a1fd"><div class="ttname"><a href="class_up_down_1_1_u_d_runtime__t.html#a206a9273dbdc8141741e7cd6b065a1fd">UpDown::UDRuntime_t::dumpBaseAddrs</a></div><div class="ttdeci">void dumpBaseAddrs()</div><div class="ttdoc">Helper function to dump current base addresses.</div><div class="ttdef"><b>Definition:</b> updown.h:895</div></div>
<div class="ttc" id="aclass_up_down_1_1_u_d_runtime__t_html_a79ecb1814ceba28e24c404af732e073c"><div class="ttname"><a href="class_up_down_1_1_u_d_runtime__t.html#a79ecb1814ceba28e24c404af732e073c">UpDown::UDRuntime_t::dumpMachineConfig</a></div><div class="ttdeci">void dumpMachineConfig()</div><div class="ttdoc">Helper function to dump current Machine Config.</div><div class="ttdef"><b>Definition:</b> updown.h:909</div></div>
<div class="ttc" id="aclass_up_down_1_1event__t_html"><div class="ttname"><a href="class_up_down_1_1event__t.html">UpDown::event_t</a></div><div class="ttdoc">Contains information of an event in the UpDown.</div><div class="ttdef"><b>Definition:</b> updown.h:222</div></div>
<div class="ttc" id="aclass_up_down_1_1operands__t_html"><div class="ttname"><a href="class_up_down_1_1operands__t.html">UpDown::operands_t</a></div><div class="ttdoc">Class that holds information about the operands.</div><div class="ttdef"><b>Definition:</b> updown.h:67</div></div>
</div><!-- fragment --><p >The UpDown program</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">from</span> EFA <span class="keyword">import</span> *</div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span>AddOne():</div>
<div class="line">    efa = <a class="code hl_namespace" href="namespace_e_f_a.html">EFA</a>([])</div>
<div class="line">    efa.code_level = <span class="stringliteral">&#39;machine&#39;</span></div>
<div class="line">    </div>
<div class="line">    state0 = State() <span class="comment">#Initial State? </span></div>
<div class="line">    efa.add_initId(state0.state_id)</div>
<div class="line">    efa.add_state(state0)</div>
<div class="line">    state1 = State() <span class="comment">#Initial State? </span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">#Add events to dictionary </span></div>
<div class="line">    event_map = {</div>
<div class="line">        <span class="stringliteral">&#39;add_1&#39;</span>:0</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    tran0 = state0.writeTransition(<span class="stringliteral">&quot;eventCarry&quot;</span>, state0, state1, event_map[<span class="stringliteral">&#39;add_1&#39;</span>])</div>
<div class="line">    tran0.writeAction(<span class="stringliteral">&quot;mov_ob2reg OB_0 UDPR_1&quot;</span>)</div>
<div class="line">    tran0.writeAction(<span class="stringliteral">&quot;addi UDPR_1 UDPR_1 1&quot;</span>)</div>
<div class="line">    tran0.writeAction(<span class="stringliteral">&quot;mov_imm2reg UDPR_2 0&quot;</span>)</div>
<div class="line">    tran0.writeAction(<span class="stringliteral">&quot;mov_reg2lm UDPR_1 UDPR_2 4&quot;</span>)</div>
<div class="line">    tran0.writeAction(<span class="stringliteral">&quot;yield_terminate 2&quot;</span> )</div>
<div class="line">    <span class="keywordflow">return</span> efa</div>
<div class="ttc" id="anamespace_e_f_a_html"><div class="ttname"><a href="namespace_e_f_a.html">EFA</a></div></div>
</div><!-- fragment --><p >Let's add these files to the exercises folder we created earlier, and copy and paste the content of each of the code segments above. Then we should be able to compile it with the following command</p>
<div class="fragment"><div class="line">g++ mainAddOne.cpp -I$UPDOWN_INSTALL_DIR/updown/include -L$UPDOWN_INSTALL_DIR/updown/lib -lUpDownSimRuntime -lUpDownRuntime /usr/lib64/libpython3.6m.so -o mainAddOne.exe</div>
<div class="line"># Before running make sure LD_LIBRARY_PATH contains the lib folder from the installation above</div>
<div class="line">export LD_LIBRARY_PATH=$UPDOWN_INSTALL_DIR/updown/lib</div>
<div class="line">./mainAddOne.exe</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md22"></a>
Output:</h2>
<div class="fragment"><div class="line">[UPDOWN_INFO: updown.cpp:16] calc_addrmap: maddr: 0x80000000 spaddr: 0x200000000 ctrlAddr: 0x600000000</div>
<div class="line">[UPDOWN_INFO: simupdown.cpp:15] Allocating 4294967296 bytes for mapped memory</div>
<div class="line">[UPDOWN_INFO: simupdown.cpp:20] Allocating 2147483648 bytes for Scratchpad memory</div>
<div class="line">[UPDOWN_INFO: simupdown.cpp:26] Allocating 2097152 bytes for control</div>
<div class="line">[UPDOWN_INFO: simupdown.cpp:31] MapMemBase changed to 0x7F861DEF7010</div>
<div class="line">[UPDOWN_INFO: simupdown.cpp:35] SPMemBase and UDbase changed to 0x7F859DEF6010</div>
<div class="line">[UPDOWN_INFO: simupdown.cpp:38] ControlBase changed to 0x7F859DCF5010</div>
<div class="line">[UPDOWN_INFO: upstream_pyintf.cc:56] Adding system paths: &quot;./emulator:/home/jmonsalvediaz/tmp/updown_tutorial/install/updown/lib/emulator:/home/jmonsalvediaz/tmp/updown_tutorial/llvm/updown/simruntime/src/emulator&quot;</div>
<div class="line">[UPDOWN_INFO: upstream_pyintf.cc:82] Creating UpStream PyIntf with 1 lanes 65536 banksize</div>
<div class="line">DataStore Size:65536</div>
<div class="line">[UPDOWN_INFO: upstream_pyintf.cc:97] Initialized UpStream Python Interface with addOneEFA and AddOne</div>
<div class="line">[UPDOWN_INFO: upstream_pyintf.cc:110] UpStream PyIntf, EFA created </div>
<div class="line">[UPDOWN_INFO: upstream_pyintf.cc:116] UpStream Processor Setup_Sim done </div>
<div class="line">[UPDOWN_INFO: updown.cpp:16] calc_addrmap: maddr: 0x7F861DEF7010 spaddr: 0x7F859DEF6010 ctrlAddr: 0x7F859DCF5010</div>
<div class="line">=== Base Addresses ===</div>
<div class="line">  mmaddr     = 0x7F861DEF7010</div>
<div class="line">  spaddr    = 0x7F859DEF6010</div>
<div class="line">  ctrlAddr  = 0x7F859DCF5010</div>
<div class="line"> </div>
<div class="line">=== Machine Config ===</div>
<div class="line">  MapMemBase          = 0x7F861DEF7010</div>
<div class="line">  UDbase              = 0x7F859DEF6010</div>
<div class="line">  SPMemBase           = 0x7F859DEF6010</div>
<div class="line">  ControlBase         = 0x7F859DCF5010</div>
<div class="line">  EventQueueOffset    = (0x0)0</div>
<div class="line">  OperandQueueOffset  = (0x1)1</div>
<div class="line">  StartExecOffset     = (0x2)2</div>
<div class="line">  LockOffset          = (0x3)3</div>
<div class="line">  CapNumUDs           = (0x80)128</div>
<div class="line">  CapNumLanes         = (0x80)128</div>
<div class="line">  CapSPmemPerLane     = (0x20000)131072</div>
<div class="line">  CapControlPerLane   = (0x80)128</div>
<div class="line">  NumUDs              = (0x1)1</div>
<div class="line">  NumLanes            = (0x1)1</div>
<div class="line">  MapMemSize          = (0x100000000)4294967296</div>
<div class="line">  SPBankSize          = (0x10000)65536</div>
<div class="line">  SPBankSizeWords     = (0x40000)262144</div>
<div class="line">[UPDOWN_INFO: updown.cpp:27] Locking 0x7F859DCF501C</div>
<div class="line">[UPDOWN_INFO: updown.cpp:34] Sending Event:0 to [0,0,255] to queue at  0x7F859DCF5010</div>
<div class="line">[UPDOWN_INFO: updown.cpp:39] Using Operands Queue 0x7F859DCF5014</div>
<div class="line">[UPDOWN_INFO: updown.cpp:44] OB[0]: 0 (0x0)</div>
<div class="line">[UPDOWN_INFO: updown.cpp:44] OB[1]: 99 (0x63)</div>
<div class="line">[UPDOWN_INFO: updown.cpp:46] Unlocking 0x7F859DCF501C</div>
<div class="line">[UPDOWN_INFO: upstream_pyintf.cc:151] Lane:0 Pushed into Operand Buffer: 0</div>
<div class="line">[UPDOWN_INFO: upstream_pyintf.cc:151] Lane:0 Pushed into Operand Buffer: 99</div>
<div class="line">[UPDOWN_INFO: upstream_pyintf.cc:139] Pushed Event:0, lane:0, tid:255 numop:1 </div>
<div class="line">[UPDOWN_INFO: updown.cpp:62] Starting execution UD 0, Lane 0. Signal in  0x7F859DCF5018</div>
<div class="line">[UPDOWN_INFO: upstream_pyintf.cc:293] EFA execute output, LaneID:0, Return State:-1, Num Sends: 0                            Exec_cycles:6, Actcnt:5 </div>
<div class="line">[UPDOWN_INFO: simupdown.cpp:104] C++ Process executed python process - Returned -1</div>
<div class="line">[UPDOWN_INFO: simupdown.cpp:263] Lane: 0 Yielded and Terminated - Writing result now</div>
<div class="line">[UPDOWN_INFO: updown.cpp:139] Testing UD 0, Lane 0 to Top, offset 0. Addr 0x7F859DEF6010. Expected = 100, read = 100</div>
<div class="line">[UPDOWN_INFO: updown.cpp:153] Testing UD 0, Lane 0 to Top, offset 0. Addr 0x7F859DEF6010. Expected = 100, read = 100. (Returning)</div>
</div><!-- fragment --><p >You can now play with the code above. An example is changing the debug level of the emulator itself through the interface:</p>
<div class="fragment"><div class="line"> {C++}</div>
<div class="line">// Change the following line for:</div>
<div class="line">//UpDown::SimUDRuntime_t *test_rt = new UpDown::SimUDRuntime_t(&quot;addOneEFA&quot;, &quot;AddOne&quot;, &quot;./&quot;);</div>
<div class="line">UpDown::SimUDRuntime_t *test_rt = new UpDown::SimUDRuntime_t(&quot;addOneEFA&quot;, &quot;AddOne&quot;, &quot;./&quot;, UpDown::EmulatorLogLevel::FULL_TRACE);</div>
</div><!-- fragment --><p >Build again and execute, you should be able to see each UpDown instruction being executed. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
